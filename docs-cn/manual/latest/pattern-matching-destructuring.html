<!DOCTYPE html><html><head><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.js"></script><link href="/static/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/static/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/static/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="/static/favicon/site.webmanifest" rel="manifest"/><meta content="image/jpeg" property="og:image:type"/><link title="ReScript Blog" href="/blog/feed.xml" rel="alternate" type="application/rss+xml"/><title>模式匹配 / 析构 | ReScript Language Manual</title><meta charSet="utf-8"/><meta content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, minimal-ui" name="viewport"/><meta content="Pattern matching and destructuring complex data structures in ReScript" name="description"/><meta content="" name="keywords"/><link href="/docs/manual/latest/pattern-matching-destructuring" rel="canonical"/><link href="/static/favicon/apple-touch-icon.png" rel="apple-touch-icon" sizes="180x180"/><link href="/static/favicon/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png"/><link href="/static/favicon/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png"/><link href="/static/favicon/site.webmanifest" rel="manifest"/><meta content="ReScript Documentation" property="og:site_name"/><meta content="en_US" property="og:locale"/><meta content="模式匹配 / 析构 | ReScript Language Manual" property="og:title"/><meta content="Pattern matching and destructuring complex data structures in ReScript" property="og:description"/><meta content="模式匹配 / 析构 | ReScript Language Manual" name="twitter:title"/><meta content="Pattern matching and destructuring complex data structures in ReScript" name="twitter:description"/><meta content="@reasonml" name="twitter:site"/><meta content="@ReasonAssoc" name="twitter:creator"/><meta content="image/jpeg" property="og:image:type"/><meta content="summary_large_image" name="twitter:card"/><link title="ReScript Blog" href="/blog/feed.xml" rel="alternate" type="application/rss+xml"/><meta name="next-head-count" content="27"/><link rel="preload" href="/_next/static/css/2b269719632b344a478b.css" as="style"/><link rel="stylesheet" href="/_next/static/css/2b269719632b344a478b.css" data-n-g=""/><noscript data-n-css=""></noscript><link rel="preload" href="/_next/static/chunks/webpack-bc7bf8d379ed505529ff.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework-23118dcc1b886e5b49be.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-82e7c4d3c08582bd58e0.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/_app-b7cd15702edb650b47c8.js" as="script"/><link rel="preload" href="/_next/static/chunks/pages/docs-cn/manual/latest/pattern-matching-destructuring-70800ebfb8ccfef43df6.js" as="script"/></head><body><div id="__next"><div class="mt-16 min-w-320 theme-reason"><div class="w-full"><nav class="fixed top-0 z-50 px-4 flex xs:justify-center w-full h-16 bg-gray-90 shadow text-white-80 text-14" id="header" style="min-width:20rem"><div class="flex justify-between items-center h-full w-full max-w-1280"><div class="h-8 w-8 lg:h-10 lg:w-32"><a class="block hover:cursor-pointer w-full h-full flex justify-center items-center font-bold" href="/"><img class="lg:hidden" src="/static/nav-logo@2x.png"/><img class="hidden lg:block" src="/static/nav-logo-full@2x.png"/></a></div><div class="flex items-center xs:justify-between w-full bg-gray-90 sm:h-auto sm:relative"><div class="flex ml-10 space-x-5 w-full max-w-320" style="max-width:26rem"><div class="relative"><div class="flex items-center"><button class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px border-none flex items-center hover:cursor-pointer " tabindex="0"><span class="">Docs</span></button></div><div class="hidden fixed left-0 overflow-y-scroll overflow-x-hidden border-gray-80 border-gray-40 min-w-320 w-full h-full bg-white sm:overflow-y-auto sm:bg-transparent sm:h-auto sm:justify-center sm:rounded-bl-xl sm:rounded-br-xl sm:shadow" style="margin-top:1rem"><div class="w-full"><div class="relative w-full bg-white pb-32 min-h-full sm:pb-0 text-gray-60 text-14 rounded-bl-xl rounded-br-xl"><div class="flex justify-center w-full py-2 border-b border-gray-10"><div class="px-4 w-full space-x-2 max-w-1280 "><select class="text-12 border border-gray-20 bg-gray-10 text-gray-80 inline-block rounded px-4 py-1 font-semibold " name="versionSelection"><option selected="" class="py-4" value="latest">v9.1 - v10.0</option><option class="py-4" value="v9.0.0">v8.2 - v9.0</option><option class="py-4" value="v8.0.0">v6.0 - v8.2</option></select><span class="text-gray-40 text-12">This is the latest docs version</span></div></div><div class="flex justify-center"><div class="w-full sm:grid sm:grid-cols-3 max-w-1280"><div class="flex px-4 sm:justify-center border-r border-gray-10 pt-8 pb-10"><div><div class="text-12 font-medium text-gray-100 tracking-wide uppercase subpixel-antialiased">Quick Links</div><div><ul class="space-y-2 ml-2 mt-6"><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs/manual/latest/introduction">Overview</a></li><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs/manual/latest/overview">Language Features</a></li><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs/manual/latest/embed-raw-javascript">JS Interop</a></li><li><span class="text-fire mr-2">-</span><a class="hover:text-fire-50" href="/docs/manual/latest/build-overview">Build System</a></li></ul></div></div></div><div class="flex px-4 sm:h-full sm:justify-center border-r border-gray-10 pt-8"><div class="w-full pb-16" style="max-width:19.625rem"><div class="text-12 font-medium text-gray-100 tracking-wide uppercase subpixel-antialiased">Documentation</div><div><div class="mt-6"><a class="" href="/docs/manual/latest/introduction"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_manual@2x.png"/><div><div class="flex items-center text-16 font-medium text-gray-80"><span>Language Manual</span></div><div class="block text-14 text-gray-60 text-gray-60">Reference for all language features</div></div></div></a><a class="" href="/docs/react/latest/introduction"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_rescript_react@2x.png"/><div><div class="flex items-center text-16 font-medium text-gray-80"><span>ReScript &amp; React</span></div><div class="block text-14 text-gray-60 text-gray-60">First class bindings for ReactJS</div></div></div></a><a class="" href="/docs/gentype/latest/introduction"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_gentype@2x.png"/><div><div class="flex items-center text-16 font-medium text-gray-80"><span>GenType</span></div><div class="block text-14 text-gray-60 text-gray-60">Seamless TypeScript &amp; Flow integration</div></div></div></a><a class="" href="https://github.com/reason-association/reanalyze" rel="noopener noreferrer"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><img style="width:2.1875rem" src="/static/ic_reanalyze@2x.png"/><div><div class="flex items-center text-16 font-medium text-gray-80"><span>Reanalyze</span><svg class="stroke-current inline-block ml-2 w-4 h-4" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></div><div class="block text-14 text-gray-60 text-gray-60">Dead Code &amp; Termination analysis</div></div></div></a></div></div></div></div><div class="flex px-4 sm:h-full sm:justify-center pb-12 pt-8 pb-10"><div class="w-full" style="max-width:19.625rem"><div class="text-12 font-medium text-gray-100 tracking-wide uppercase subpixel-antialiased">Exploration</div><div class="mt-6"><a class="" href="/packages"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><div class="w-6 h-6"><img class="w-full" src="/static/ic_package.svg"/></div><div><div class="flex items-center text-16 font-medium text-gray-80"><span>Packages</span></div><div class="block text-14 text-gray-60 text-gray-60">Explore third party libraries and bindings</div></div></div></a><a class="" href="/syntax-lookup"><div class="hover:bg-gray-5 hover:shadow hover:-mx-8 hover:px-8 hover:cursor-pointer active:bg-gray-20 py-4 flex space-x-4 items-start rounded-xl"><div class="-mr-2 flex w-6 h-6 justify-center items-center"><img class="w-4 h-4" src="/static/ic_search.svg"/></div><div><div class="flex items-center text-16 font-medium text-gray-80"><span>Syntax Lookup</span></div><div class="block text-14 text-gray-60 text-gray-60">Discover all syntax constructs</div></div></div></a></div></div></div></div></div><img class="hidden xl:block absolute bottom-0 right-0" style="max-width:27.8rem" src="/static/illu_index_rescript@2x.png"/></div></div></div></div><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/docs/manual/latest/api">API</a><a class="hidden xs:block no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/try">Playground</a><a class="hidden xs:block no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/blog">Blog</a><a class="hidden xs:block no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/community">Community</a></div><div class="hidden md:flex items-center"><div class="hidden sm:block mr-6"><div class=" bg-gray-100 border border-gray-70 hover:text-white hover:cursor-pointer flex justify-center p-2 px-3 rounded-lg"><input type="text" class="transition-all ease-in-out duration-150 text-white bg-gray-100 border-none focus:outline-none w-0" id="docsearch"/><svg class="stroke-current text-gray-60 w-5 h-5" height="19.203" width="19.203" viewBox="0 0 19.203 19.203"><g fill="none" stroke-linecap="round" stroke-width="2px" transform="translate(-2 -2)"><path d="M6.479,0A6.479,6.479,0,1,1,0,6.479,6.479,6.479,0,0,1,6.479,0Z" transform="translate(3 3)"></path><line stroke-linejoin="round" transform="translate(14.055 14.055)" x1="5.734" y1="5.734"></line></g></svg></div></div><a class="mr-5 no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="https://github.com/reason-association/rescript-lang.org#rescript-langorg" rel="noopener noreferrer"><svg class="fill-current w-6 h-6 opacity-50 hover:opacity-100" height="17.79" width="18.236" viewBox="0 0 18.236 17.79"><g transform="translate(8 -5.365)"><path d="M17.013,9.906a9.078,9.078,0,0,0-3.318-3.318A8.918,8.918,0,0,0,9.118,5.365,8.919,8.919,0,0,0,4.541,6.588,9.077,9.077,0,0,0,1.223,9.906,8.919,8.919,0,0,0,0,14.483a8.861,8.861,0,0,0,1.739,5.36,8.93,8.93,0,0,0,4.493,3.294.531.531,0,0,0,.475-.083.464.464,0,0,0,.154-.356q0-.036-.006-.641T6.85,21l-.273.047a3.484,3.484,0,0,1-.659.042,5.02,5.02,0,0,1-.825-.083,1.844,1.844,0,0,1-.8-.356,1.506,1.506,0,0,1-.522-.73l-.119-.273a2.966,2.966,0,0,0-.374-.605,1.432,1.432,0,0,0-.516-.451l-.083-.06a.871.871,0,0,1-.154-.143.651.651,0,0,1-.107-.166q-.036-.083.059-.137a.77.77,0,0,1,.344-.053l.237.035a1.733,1.733,0,0,1,.588.285,1.916,1.916,0,0,1,.576.617,2.093,2.093,0,0,0,.659.742,1.4,1.4,0,0,0,.778.255,3.376,3.376,0,0,0,.677-.059,2.362,2.362,0,0,0,.534-.178,1.924,1.924,0,0,1,.582-1.223,8.129,8.129,0,0,1-1.217-.214,4.845,4.845,0,0,1-1.116-.463,3.2,3.2,0,0,1-.956-.8,3.822,3.822,0,0,1-.623-1.247A5.928,5.928,0,0,1,3.3,14.007a3.463,3.463,0,0,1,.938-2.446A3.192,3.192,0,0,1,4.321,9.14a1.664,1.664,0,0,1,1.021.16,7.138,7.138,0,0,1,.991.457q.315.19.5.321a8.574,8.574,0,0,1,4.559,0l.451-.285a6.389,6.389,0,0,1,1.092-.522,1.556,1.556,0,0,1,.962-.13A3.161,3.161,0,0,1,14,11.562a3.463,3.463,0,0,1,.938,2.446,5.994,5.994,0,0,1-.243,1.787,3.674,3.674,0,0,1-.629,1.247,3.319,3.319,0,0,1-.962.789,4.855,4.855,0,0,1-1.116.463,8.121,8.121,0,0,1-1.217.214,2.115,2.115,0,0,1,.617,1.686v2.5a.473.473,0,0,0,.149.356.516.516,0,0,0,.469.083A8.929,8.929,0,0,0,16.5,19.842a8.863,8.863,0,0,0,1.739-5.36A8.926,8.926,0,0,0,17.013,9.906Z" transform="translate(-8 0)"></path></g></svg></a><a class="mr-5 no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="https://twitter.com/rescriptlang" rel="noopener noreferrer"><svg class="fill-current w-6 h-6 opacity-50 hover:opacity-100" viewBox="0 0 15.53 12.71"><path d="M5.794,12.711a13.325,13.325,0,0,1-2.058-.163A9.659,9.659,0,0,1,.92,11.523L0,11.02l1-.328c1.089-.358,1.751-.58,2.571-.928A3.421,3.421,0,0,1,1.809,7.726l-.232-.7.19.029a3.456,3.456,0,0,1-.433-.534A3.276,3.276,0,0,1,.779,4.57l.044-.614L1.19,4.1a3.437,3.437,0,0,1-.333-.934A3.552,3.552,0,0,1,1.235.774l.32-.588L1.984.7A7.883,7.883,0,0,0,7.091,3.575a3.054,3.054,0,0,1,.185-1.623A3.038,3.038,0,0,1,8.511.536,3.71,3.71,0,0,1,10.664.008a3.439,3.439,0,0,1,2.114.872,7.1,7.1,0,0,0,.774-.258c.17-.064.362-.136.6-.219L15.042.1l-.579,1.652.119-.008L15.53,1.7l-.56.765c-.032.044-.04.056-.052.073-.045.068-.1.153-.87,1.179a1.448,1.448,0,0,0-.271.943,8.916,8.916,0,0,1-.487,3.586,6.346,6.346,0,0,1-1.7,2.524,7.524,7.524,0,0,1-3.566,1.724A10.979,10.979,0,0,1,5.794,12.711Zm0,0" transform="translate(0 -0.001)"></path></svg></a><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="https://forum.rescript-lang.org" rel="noopener noreferrer"><svg class="fill-current w-6 h-6 opacity-50 hover:opacity-100" viewBox="0 0 24 24"><path d="M12.103 0C18.666 0 24 5.485 24 11.997c0 6.51-5.33 11.99-11.9 11.99L0 24V11.79C0 5.28 5.532 0 12.103 0zm.116 4.563a7.395 7.395 0 00-6.337 3.57 7.247 7.247 0 00-.148 7.22L4.4 19.61l4.794-1.074a7.424 7.424 0 008.136-1.39 7.256 7.256 0 001.737-7.997 7.375 7.375 0 00-6.84-4.585h-.008z"></path></svg></a></div></div></div><button class="h-full px-4 xs:hidden flex items-center hover:text-white"><svg class="fill-current h-1 w-auto block text-gray-60" height="4" width="22" stroke="none" viewBox="0 0 22 4"><circle cx="2" cy="2" r="2"></circle><circle cx="2" cy="2" r="2" transform="translate(9)"></circle><circle cx="2" cy="2" r="2" transform="translate(18)"></circle></svg></button><div class="hidden sm:hidden flex-col fixed top-0 left-0 h-full w-full z-50 sm:w-9/12 bg-gray-100 sm:h-auto sm:flex sm:relative sm:flex-row sm:justify-between" style="min-width:20rem;top:4rem"><div class="border-gray-80 border-t"><ul><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><div class="opacity-75 hover:text-white hover:cursor-pointer bg-gray-80 flex items-center p-2 px-3 rounded"><svg class="stroke-current w-5 h-5 mr-3" height="19.203" width="19.203" viewBox="0 0 19.203 19.203"><g fill="none" stroke-linecap="round" stroke-width="2px" transform="translate(-2 -2)"><path d="M6.479,0A6.479,6.479,0,1,1,0,6.479,6.479,6.479,0,0,1,6.479,0Z" transform="translate(3 3)"></path><line stroke-linejoin="round" transform="translate(14.055 14.055)" x1="5.734" y1="5.734"></line></g></svg><input type="text" class="w-32 bg-gray-80 focus:outline-none " id="docsearch-mobile"/></div></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/try">Playground</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="no-underline block text-inherit hover:cursor-pointer hover:text-fire-30 text-gray-40 mb-px" href="/blog">Blog</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="block hover:cursor-pointer hover:text-white text-gray-60" href="https://twitter.com/rescriptlang" rel="noopener noreferrer">Twitter</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="block hover:cursor-pointer hover:text-white text-gray-60" href="https://github.com/reason-association/rescript-lang.org#rescript-langorg" rel="noopener noreferrer">GitHub</a></li><li class="font-normal mx-4 py-5 text-gray-20 border-b border-gray-80"><a class="block hover:cursor-pointer hover:text-white text-gray-60" href="https://forum.rescript-lang.org" rel="noopener noreferrer">Forum</a></li></ul></div></div></nav><div class="hidden z-40 bg-gray-10-tr w-full h-full bottom-0" style="backdrop-filter:blur(2px);-webkit-backdrop-filter:blur(2px)"></div><div class="flex lg:justify-center"><div class="flex w-full max-w-1280 md:mx-8"><div class="hidden  md:block md:w-48 md:-ml-4 lg:w-1/5 md:h-auto md:relative overflow-y-visible bg-white" id="sidebar"><aside class="relative top-0 px-4 w-full block md:top-16 md:pt-16 md:sticky border-r border-gray-20 overflow-y-auto pb-24" id="sidebar-content" style="height:calc(100vh - 4.5rem"><div class="flex justify-between"><div class="w-3/4 md:w-full"></div><button class="md:hidden h-16"><svg class="fill-current " height="12.728" width="12.728"><path d="M12.728 11.313l-1.414 1.414L0 1.414 1.414-.001z"></path><path d="M11.314 0l1.414 1.414L1.415 12.728 0 11.314z"></path></svg></button></div><div class="flex justify-between text-fire font-medium items-baseline">Language Manual<select class="text-12 border border-gray-20 bg-gray-10 text-gray-80 inline-block rounded px-4 py-1 font-semibold " name="versionSelection"><option selected="" class="py-4" value="latest">v9.1 - v10.0</option><option class="py-4" value="v9.0.0">v8.2 - v9.0</option><option class="py-4" value="v8.0.0">v6.0 - v8.2</option></select></div><div class="mb-56"><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">Overview</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/introduction">引言</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/installation">安装</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/editor-plugins">编辑器扩展</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/migrate-from-bucklescript-reason">迁移到ReScript语法</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/try">体验</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">Language Features</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/overview">语言特性概览</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/let-binding">Let绑定</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/type">类型</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/primitive-types">原生类型</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/tuple">元组</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/record">记录</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/object">对象</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/variant">变体</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/polymorphic-variant">多态变体</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/null-undefined-option">Null, Undefined 和 Option</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/array-and-list">数组 &amp; 列表</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/function">函数</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/control-flow">If-Else &amp; Loops</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/pipe">管道</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2  bg-fire-5 text-fire leading-5 -ml-2 pl-2 font-medium block hover:bg-fire-5 " href="/docs-cn/manual/latest/pattern-matching-destructuring">模式匹配 / 析构</a><ul class="mt-3 py-1 mb-4 border-l border-fire-10"><li class="pl-2 mt-2 first:mt-1"><a class="font-normal block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs-cn/manual/latest/pattern-matching-destructuring#destructuring--%E6%9E%90%E6%9E%84">Destructuring | 析构</a></li><li class="pl-2 mt-2 first:mt-1"><a class="font-normal block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs-cn/manual/latest/pattern-matching-destructuring#switch-based-on-shape-of-data--%E5%9F%BA%E4%BA%8E%E6%95%B0%E6%8D%AE%E7%9A%84%E5%BD%A2%E7%8A%B6switch">switch Based on Shape of Data | 基于数据的形状switch</a></li><li class="pl-2 mt-2 first:mt-1"><a class="font-normal block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs-cn/manual/latest/pattern-matching-destructuring#exhaustiveness-check--%E7%A9%B7%E4%B8%BE%E6%A3%80%E6%9F%A5">Exhaustiveness Check | 穷举检查</a></li><li class="pl-2 mt-2 first:mt-1"><a class="font-normal block text-14 text-gray-40 leading-tight hover:text-gray-80" href="/docs-cn/manual/latest/pattern-matching-destructuring#conclusion--tips--tricks--%E7%BB%93%E8%AE%BA--%E6%8A%80%E5%B7%A7--%E8%AF%80%E7%AA%8D">Conclusion &amp; Tips &amp; Tricks | 结论 &amp; 技巧 &amp; 诀窍</a></li></ul></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/mutation">可变值</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/jsx">JSX</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/exception">异常</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/lazy-values">惰性值</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/promise">异步 &amp; 承诺</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/module">模块</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/import-export">导入 &amp; 导出</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/attribute">属性(装饰器)</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/unboxed">拆箱(Unboxed)</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/reserved-keywords">保留关键字</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">Advanced Features</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/extensible-variant">Extensible Variant</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">JavaScript Interop</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/interop-cheatsheet">Interop Cheatsheet</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/embed-raw-javascript">直接嵌入 JavaScript 代码</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/shared-data-types">Shared Data Types</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/external">External (Bind to Any JS Library)</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/bind-to-js-object">Bind to JS Object</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/bind-to-js-function">绑定到JS函数</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/import-from-export-to-js">Import from / Export to JS</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/bind-to-global-js-values">绑定到全局JS值</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/json">JSON</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/inlining-constants">内联常量</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/use-illegal-identifier-names">使用不合法的标识符</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/generate-converters-accessors">Generate Converters &amp; Helpers</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/browser-support-polyfills">Browser Support &amp; Polyfills</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/libraries">库 &amp; 发布</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">Build System</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-overview">构建系统概览</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-configuration">构建配置</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-configuration-schema">Configuration Schema</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-external-stdlib">外部标准库</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-pinned-dependencies">Pinned Dependencies</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/interop-with-js-build-systems">Interop with JS Build Systems</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/build-performance">构建性能</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/warning-numbers">Warning Numbers</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">Guides</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/converting-from-js">Converting from JS</a></li></ul></div></div><div><div class="my-10"><div class="hl-overline text-gray-80 mt-5">Extra</div><ul class="mt-2 text-14 font-medium"><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/newcomer-examples">新人示例</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/project-structure">Project Structure</a></li><li class="block mt-1 leading-4"><a class="truncate block py-1 md:h-auto tracking-tight text-gray-60 rounded-sm hover:bg-gray-20 hover:-ml-2 hover:py-1 hover:pl-2 " href="/docs-cn/manual/latest/faq">常见问题</a></li></ul></div></div></div></aside></div><main class="px-4 w-full pt-16 md:ml-12 lg:mr-8 mb-32 md:max-w-576 lg:max-w-740"><div class="z-10 fixed border-b shadow top-16 left-0 pl-4 bg-white w-full py-4 md:relative md:border-none md:shadow-none md:p-0 md:top-auto flex items-center"><button class=" md:hidden mr-3"><img class="h-4" src="/static/ic_sidebar_drawer.svg"/></button><div class="truncate overflow-x-auto touch-scroll flex items-center space-x-4 md:justify-between mr-4 w-full"><div class="w-full captions overflow-x-auto text-gray-60"><a href="/docs/latest">Docs</a><span> / <a href="/docs/manual/latest/introduction">Language Manual</a></span><span> / <span>模式匹配 / 析构</span></span></div><a class="inline text-14 hover:underline text-fire" href="https://github.com/reason-association/rescript-lang.org/blob/master/pages/docs-cn/manual/latest/pattern-matching-destructuring.mdx" rel="noopener noreferrer">Edit</a></div></div><div class="mt-10"><h1 class="hl-1 mb-6 ">Pattern Matching / Destructuring | 模式匹配 / 析构</h1><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">One of ReScript&#x27;s <strong class="font-semibold">best</strong> feature is our pattern matching. Pattern matching combines 3 brilliant features into one:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">ReScript<strong class="font-semibold">最棒</strong>的特性之一就是模式匹配了. 模式匹配将3个很棒的特性整合到了一起:</p><ul class="md-ul mt-12 mb-16"><li class="md-li mt-3 leading-4 ml-2"><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Destructuring.</p></li><li class="md-li mt-3 leading-4 ml-2"><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code> based on shape of data.</p></li><li class="md-li mt-3 leading-4 ml-2"><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Exhaustiveness check.</p></li><li class="md-li mt-3 leading-4 ml-2"><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">析构</p></li><li class="md-li mt-3 leading-4 ml-2"><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">依据数据的shape进行<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code></p></li><li class="md-li mt-3 leading-4 ml-2"><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">完全性检查</p></li></ul><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">We&#x27;ll dive into each aspect below.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">我们接下来深入学习一下.</p><h2 class="group mt-16 mb-3 hl-3">Destructuring | 析构<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#destructuring--析构"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="destructuring--析构" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Even JavaScript has destructuring, which is &quot;opening up&quot; a data structure to extract the parts we want and assign variable names to them:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">甚至JavaScript也有析构功能, 也就是&quot;打开&quot;一个数据结构, 提取我们想要的部分, 并为其分配到相应的变量名.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBAxg9jBOATAlgOwIZhAZwgXggAoBGABgBoIAmCiAZlIEoAoUSQgD0oH0fH9ocJGkw5mAKWwA6YDADmnfgHolEMsyA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> coordinates <span class="hljs-operator">=</span> (<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>)
<span class="hljs-keyword">let</span> (x, _, _) <span class="hljs-operator">=</span> coordinates
<span class="hljs-module-identifier">Js</span>.log(x) <span class="hljs-comment">// 10</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Destructuring works with most built-in data structures:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">大部分内置数据析构都是可以被析构:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=PTAECUFMGMHsCcAmAoALgTwA6VAZ1QK6KQB2qoAvKAN4kCGAtpAFx6rwCWJA5gDSh1uLUF1QBfZABtI5fEVKoAjJRr0mrAEQApWAAsSG-oOGKADBOnlajSGJVziZZSFDa9BgblwduJSIlBUWFAAAzVIEORkFwA1Ok46MjQsHHhIXAJJcgpkUFAAH1AAZQJoaHTcAAp8Th4ASikZUAZ0KAyslRKyisqNAE1YAlBEDgCOVABCDQbLYtLyr0qmL2M6lRa2zPIXfsHh0ZFJjU9vX39A4JDl3GNIoA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-comment">// Record</span>
<span class="hljs-keyword">type</span> student <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>name: string, age: int<span class="hljs-literal">}</span>
<span class="hljs-keyword">let</span> student1 <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>name: <span class="hljs-string">&quot;John&quot;</span>, age: <span class="hljs-number">10</span><span class="hljs-literal">}</span>
<span class="hljs-keyword">let</span> <span class="hljs-literal">{</span>name<span class="hljs-literal">}</span> <span class="hljs-operator">=</span> student1 <span class="hljs-comment">// &quot;John&quot; assigned to `name`</span>

<span class="hljs-comment">// Variant</span>
<span class="hljs-keyword">type</span> result <span class="hljs-operator">=</span>
  | <span class="hljs-constructor">Success</span>(string)
<span class="hljs-keyword">let</span> myResult <span class="hljs-operator">=</span> <span class="hljs-constructor">Success</span>(<span class="hljs-string">&quot;You did it!&quot;</span>)
<span class="hljs-keyword">let</span> <span class="hljs-constructor">Success</span>(message) <span class="hljs-operator">=</span> myResult <span class="hljs-comment">// &quot;You did it!&quot; assigned to `message`</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">You can also use destructuring anywhere you&#x27;d usually put a binding:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">你可以在任何创建绑定的地方使用析构:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=C4TwDgpgBAThDOBXANsKBeAUFKAfKAyogMbELwAU8wMAlgHYDmAlJshGgCa3xjICGIALLl+jaOigUipchQC2zZhgB8UAN7YoAem1QA7hADkAN2jc4xYMhBQIADxr8rETlGAALaElnx4UeVFxLV0oajomKAAjW04EGhJgRAjGdy8oMH4YfkDgCBgtACl4ADpkAHtGBVYAX0xuXgFhIIhpEjI-CgAiAE1yxChuN1pgAEIupUwgA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">type</span> result <span class="hljs-operator">=</span>
  | <span class="hljs-constructor">Success</span>(string)
<span class="hljs-keyword">let</span> displayMessage <span class="hljs-operator">=</span> (<span class="hljs-constructor">Success</span>(m)) <span class="hljs-function">=&gt;</span> <span class="hljs-literal">{</span>
  <span class="hljs-comment">// we&#x27;ve directly extracted the success message</span>
  <span class="hljs-comment">// string by destructuring the parameter</span>
  <span class="hljs-module-identifier">Js</span>.log(m)
<span class="hljs-literal">}</span>
displayMessage(<span class="hljs-constructor">Success</span>(<span class="hljs-string">&quot;You did it!&quot;</span>))
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">For a record, you can rename the field while destructuring:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">对于记录, 你可以在析构时重命名字段.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBA3gdghgWxALgjAvhAvBAzmAVwBMQYwBGCAeiogCIApAewAsY6I5dcBLAcxggiEMEwgADGOIBQQA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> <span class="hljs-literal">{</span>name: n<span class="hljs-literal">}</span> <span class="hljs-operator">=</span> student1 <span class="hljs-comment">// &quot;John&quot; assigned to `n`</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">You <em>can</em> in theory destructure array and list at the top level too:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">理论上你也 <em>可以</em> 在顶层析构数组和列表.</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30">RES</div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-res "><span class="hljs-keyword">let</span> myArray <span class="hljs-operator">=</span> [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
<span class="hljs-keyword">let</span> [item1, item2, _] <span class="hljs-operator">=</span> myArray
<span class="hljs-comment">// 1 assigned to `item1`, 2 assigned to `item2`, 3rd item ignored</span>

<span class="hljs-keyword">let</span> myList <span class="hljs-operator">=</span> <span class="hljs-literal">list{</span><span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span><span class="hljs-literal">}</span>
<span class="hljs-keyword">let</span> <span class="hljs-literal">list{</span>head, <span class="hljs-operator">...</span>tail<span class="hljs-literal">}</span> <span class="hljs-operator">=</span> myList
<span class="hljs-comment">// 1 assigned to `head`, `list{2, 3}` assigned to tail</span>
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">But the array example is <strong class="font-semibold">highly disrecommended</strong> (use tuple instead) and the list example will error on you. They&#x27;re only there for completeness&#x27; sake. As you&#x27;ll see below, the proper way of using destructuring array and list is using <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code>.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">但是数组的例子是<strong class="font-semibold">高度不推荐的</strong>(最好用元组代替), 因为完整性的原因, 列表的例子会让你出错. 你即将在后面看到, 使用数组和列表的正确方法是使用<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code>. </p><h2 class="group mt-16 mb-3 hl-3"><code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code> Based on Shape of Data | 基于数据的形状<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code><span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#switch-based-on-shape-of-data--基于数据的形状switch"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="switch-based-on-shape-of-data--基于数据的形状switch" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">While the destructuring aspect of pattern matching is nice, it doesn&#x27;t really change the way you think about structuring your code. One paradigm-changing way of thinking about your code is to execute some code based on the shape of the data.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">虽然模式匹配的析构很好, 但它并没有真正改变你理解结构化代码的方式. 一个改变你的代码思维模式的方法是根据数据的形状来执行一些代码.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Consider a variant:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">考虑如下变体:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=C4TwDgpgBGCGIBsD2sAmUC8AoKUA+UAQmgEoQDOArgsABQCWAdsAJQ75QDiSSqZVNWuWAAnJgHM2uAgDkk-asCxA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">type</span> payload <span class="hljs-operator">=</span>
  | <span class="hljs-constructor">BadResult</span>(int)
  | <span class="hljs-constructor">GoodResult</span>(string)
  | <span class="hljs-constructor">NoResult</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">We&#x27;d like to handle each of the 3 cases differently. For example, print a success message if the value is <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">GoodResult(...)</code>, do something else when the value is <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">NoResult</code>, etc.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">我们想要处理三种不同的情况. 比如说, 如果值是<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">GoodResult(...)</code>, 打印一条信息表示成功, 如果值是<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">NoResult</code>那就做一些其他事情, 诸如此类.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">In other languages, you&#x27;d end up with a series of if-elses that are hard to read and error-prone. In ReScript, you can instead use the supercharged <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code> pattern matching facility to destructure the value while calling the right code based on what you destructured:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">在其他语言中, 你可能会用一系列<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">if-else</code>来实现上述功能, 可读性不好并且很容易出错. 在ReScrit中, 你可以使用强大的<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code>的模式匹配功能析构值, 然后基于析构的结果调用需要的代码块. </p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBAJghmMQLwQOIHs1QEogM4FdgwAKAIgAUAnTfAY0lwAsBLAB1ZCgEJSBKAKFwB3ZmFqNocBAG9+AH1QZseQiTCMQAWTy4YAcxC8kAPn4QIAKVwA6YGj1kAynVo6uEUhADUXiOq06+obyEABCMMoERMQglNSUAMKYhiZmljZ2DqSOaAC24CwAdnoA5LgQQtTF1hAAKhoQsfEQtMkQzLgAXB7evlbWAJKFYNZgaI5glMzFMXFoicm8AgoAcmg4UZCIpub9mWThjNZ8-AC+-EA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> data <span class="hljs-operator">=</span> <span class="hljs-constructor">GoodResult</span>(<span class="hljs-string">&quot;Product shipped!&quot;</span>)
<span class="hljs-keyword">switch</span> data <span class="hljs-literal">{</span>
| <span class="hljs-constructor">GoodResult</span>(theMessage) <span class="hljs-function">=&gt;</span>
  <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Success! &quot;</span> <span class="hljs-operator">++</span> theMessage)
| <span class="hljs-constructor">BadResult</span>(errorCode) <span class="hljs-function">=&gt;</span>
  <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Something&#x27;s wrong. The error code is: &quot;</span> <span class="hljs-operator">++</span> <span class="hljs-module-identifier">Js</span>.<span class="hljs-module-identifier">Int</span>.toString(errorCode))
| <span class="hljs-constructor">NoResult</span> <span class="hljs-function">=&gt;</span>
  <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Bah.&quot;</span>)
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">In this case, <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">message</code> will have the value <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">&quot;Success! Product shipped!&quot;</code>.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">这种情况, <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">message</code>的值会是 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">&quot;Success! Product shipped!&quot;</code>. </p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Suddenly, your if-elses that messily checks some structure of the value got turned into a clean, compiler-verified, linear list of code to execute based on exactly the shape of the value.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">突然, 混乱的<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">if-else</code>判断转变为了简洁且经过编译器验证过的由代码组成的线性列表, 并且会根据值的形状执行相关的代码片段.</p><h3 class="group mt-8 mb-1 hl-4">Complex Examples | 一些复杂的例子<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#complex-examples--一些复杂的例子"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="complex-examples--一些复杂的例子" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Here&#x27;s a real-world scenario that&#x27;d be a headache to code in other languages. Given this data structure:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">下面是一段真实场景的代码, 在别的语言中表达相同的功能是很头疼的. 比如说对于这个数据结构:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=C4TwDgpgBAzsCGwCuMoF4oDV4GNEEsB7AOxgAp9jgBKKAHygGV4AjFgvAGwqtocfw4A1vSgAFAE4QYEKgChQkKFLCEJwAMLwJAE3RQA3mHgwYlAOYAuKC0KFOAGijnj1gGadCiAL4Lw0SAkYEnQ5KFEAFQhcAAsICTIDMPCoYngAWwhrOAkLB2Tw+HMsqEpgfPDvamT+ZB1ZYESC1IySnLzmuEQUbIRkGAqUlTVNbR1rYfUtXUGquSA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">type</span> status <span class="hljs-operator">=</span> <span class="hljs-constructor">Vacations</span>(int) | <span class="hljs-constructor">Sabbatical</span>(int) | <span class="hljs-constructor">Sick</span> | <span class="hljs-constructor">Present</span>
<span class="hljs-keyword">type</span> reportCard <span class="hljs-operator">=</span> <span class="hljs-literal">{</span>passing: bool, gpa: float<span class="hljs-literal">}</span>
<span class="hljs-keyword">type</span> person <span class="hljs-operator">=</span>
  | <span class="hljs-constructor">Teacher</span>(<span class="hljs-literal">{</span>
    name: string,
    age: int,
  <span class="hljs-literal">}</span>)
  | <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>
    name: string,
    status: status,
    reportCard: reportCard,
  <span class="hljs-literal">}</span>)
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Imagine this requirement:</p><ul class="md-ul mt-12 mb-16"><li class="md-li mt-3 leading-4 ml-2"><p>Informally greet a person who&#x27;s a teacher and if his name is Mary or Joe.</p></li><li class="md-li mt-3 leading-4 ml-2"><p>Greet other teachers formally.</p></li><li class="md-li mt-3 leading-4 ml-2"><p>If the person&#x27;s a student, congratulate him/her score if they passed the semester.</p></li><li class="md-li mt-3 leading-4 ml-2"><p>If the student has a gpa of 0 and is on vacations or sabbatical, display a different message.</p></li><li class="md-li mt-3 leading-4 ml-2"><p>A catch-all message for a student.</p></li></ul><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">假如有以下需求:</p><ul class="md-ul mt-12 mb-16"><li class="md-li mt-3 leading-4 ml-2"><p>如果一个人是一名老师, 且它的名字是&quot;Marry&quot;或&quot;Joe&quot;的话, 和他/她非正式的打声招呼.</p></li><li class="md-li mt-3 leading-4 ml-2"><p>正式的和别的老师打招呼.</p></li><li class="md-li mt-3 leading-4 ml-2"><p>如果一个人是个学生, 并且他们通过了这个学期, 祝贺他/她的分数.</p></li><li class="md-li mt-3 leading-4 ml-2"><p>如果该学生的gpa为0, 并且正在休假或公休, 则显示一个不同的信息.</p></li><li class="md-li mt-3 leading-4 ml-2"><p>对一个学生显式一条通用的信息.</p></li></ul><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">ReScript can do this easily!</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">ReScript可以很轻易的做到这一点!</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBADiBODOB7AdgRggXggFRAQwGMALOACgG9k8BbEALggCIApPZERgGgjwHN6IAZgCsAXwCUAKEmhItePD4hMEeAHcAlmGLQ4SNBHKSAPjnzEylGgMYBZPLACejCKZaIOEzAD5JECAAGABIgjtzwYBrAwBC8iBrIvBBgiMkk0A5gjhAoEADKeGAArrAAJniOAPwBJmaEJLAUVLReGL7+APQdaRrwEL0Q1IUWpTnIwNkaAGaBzSAB-fDIAOSQdg7OObBMzB6MfoEh0akAJFYtAHQ1pnnFpSDIYE3W3LAgUIiwYADCDqUM5CgeAUCV4DDAsCKIG4vCBola7UC3xQvFghT6Zzmom4yA0BGUAHEAAoAQRyMzOzHgFwAYsBEIULilbrBQaRYXhxKIII5EEVYohIGAGiAAITXfJ3B5PIz+fxvD5fX5lAEchgABgu6uxB38EUKRXgDAAaoRChoUPBSOVHPAADIgKZgcSufJ4ABG7vNBDwwGtFXtjudBwRBwCyNoEC9BAA1v1kBBKdSAJKPJmIFlsm2Bp1ciDZ8W1W5Fe6PCj64pG-J4mOh-zBRBqHhvHl8iBTEAgYCg6pFqVl84gOuBAmIRCjYBFWMQdgAD0g8BA8jAcETg9EhdEkiAA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> person1 <span class="hljs-operator">=</span> <span class="hljs-constructor">Teacher</span>(<span class="hljs-literal">{</span>name: <span class="hljs-string">&quot;Jane&quot;</span>, age: <span class="hljs-number">35</span><span class="hljs-literal">}</span>)

<span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-keyword">switch</span> person1 <span class="hljs-literal">{</span>
| <span class="hljs-constructor">Teacher</span>(<span class="hljs-literal">{</span>name: <span class="hljs-string">&quot;Mary&quot;</span> | <span class="hljs-string">&quot;Joe&quot;</span><span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-string">`Hey, still going to the party on Saturday?`</span>
| <span class="hljs-constructor">Teacher</span>(<span class="hljs-literal">{</span>name<span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-comment">// this is matched only if `name` isn&#x27;t &quot;Mary&quot; or &quot;Joe&quot;</span>
  <span class="hljs-string">`Hello ${name}.`</span>
| <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>name, reportCard: <span class="hljs-literal">{</span>passing: <span class="hljs-literal">true</span>, gpa<span class="hljs-literal">}</span><span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-string">`Congrats ${name}, nice GPA of ${Js.Float.toString(gpa)} you got there!`</span>
| <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>
    reportCard: <span class="hljs-literal">{</span>gpa: <span class="hljs-number">0.0</span><span class="hljs-literal">}</span>,
    status: <span class="hljs-constructor">Vacations</span>(daysLeft) | <span class="hljs-constructor">Sabbatical</span>(daysLeft)
  <span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-string">`Come back in ${Js.Int.toString(daysLeft)} days!`</span>
| <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>status: <span class="hljs-constructor">Sick</span><span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-string">`How are you feeling?`</span>
| <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>name<span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-string">`Good luck next semester ${name}!`</span>
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">Note</strong> how we&#x27;ve:</p><ul class="md-ul mt-12 mb-16"><li class="md-li mt-3 leading-4 ml-2"><p>drilled deep down into the value concisely</p></li><li class="md-li mt-3 leading-4 ml-2"><p>using a <strong class="font-semibold">nested pattern check</strong> <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">&quot;Mary&quot; | &quot;Joe&quot;</code> and <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Vacations | Sabbatical</code></p></li><li class="md-li mt-3 leading-4 ml-2"><p>while extracting the <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">daysLeft</code> number from the latter case</p></li><li class="md-li mt-3 leading-4 ml-2"><p>and assigned the greeting to the binding <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">message</code>.</p></li></ul><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong> 我们是如何:</p><ul class="md-ul mt-12 mb-16"><li class="md-li mt-3 leading-4 ml-2"><p>简洁的深入检查值的内部</p></li><li class="md-li mt-3 leading-4 ml-2"><p>使用<strong class="font-semibold">嵌套的模式检查</strong> <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">&quot;Mary&quot; | &quot;Joe&quot;</code> 和 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Vacations | Sabbatical</code></p></li><li class="md-li mt-3 leading-4 ml-2"><p>在后面的分支中把<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">dayLeft</code>值抽出来的</p></li><li class="md-li mt-3 leading-4 ml-2"><p>最后把打招呼的信息赋给<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">message</code>绑定.</p></li></ul><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Here&#x27;s another example of pattern matching, this time on an inline tuple.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">下面是另一个模式匹配的例子, 这次是在内联元组上的使用.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=C4TwDgpgBAhgdgSwLYwDZQLxQCIHsDmUAPlAMIzDFQBCCATgCYBQqElAxhRPrnSAJINMUAM4B3BMHYALKAAoEI2vgA0UJCACCiFKgCUUAN5MSc4HQCuENXnwGMAPigBGE-PNW15YPacAmNzNLaxp6Bl8oAGZAgDM0ERDbKm8IgBZY+JDaRgiAViYAXyYgA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">type</span> animal <span class="hljs-operator">=</span> <span class="hljs-constructor">Dog</span> | <span class="hljs-constructor">Cat</span> | <span class="hljs-constructor">Bird</span>
<span class="hljs-keyword">let</span> categoryId <span class="hljs-operator">=</span> <span class="hljs-keyword">switch</span> (isBig, myAnimal) <span class="hljs-literal">{</span>
| (<span class="hljs-literal">true</span>, <span class="hljs-constructor">Dog</span>) <span class="hljs-function">=&gt;</span> <span class="hljs-number">1</span>
| (<span class="hljs-literal">true</span>, <span class="hljs-constructor">Cat</span>) <span class="hljs-function">=&gt;</span> <span class="hljs-number">2</span>
| (<span class="hljs-literal">true</span>, <span class="hljs-constructor">Bird</span>) <span class="hljs-function">=&gt;</span> <span class="hljs-number">3</span>
| (<span class="hljs-literal">false</span>, <span class="hljs-constructor">Dog</span> | <span class="hljs-constructor">Cat</span>) <span class="hljs-function">=&gt;</span> <span class="hljs-number">4</span>
| (<span class="hljs-literal">false</span>, <span class="hljs-constructor">Bird</span>) <span class="hljs-function">=&gt;</span> <span class="hljs-number">5</span>
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">Note</strong> how pattern matching on a tuple is equivalent to a 2D table:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong> 在元组上的模式匹配等价于二维表的查找:</p><div class="overflow-x-auto mt-10 mb-16"><table class="md-table"><thead><tr><th class="py-2 pr-8 text-12 text-gray-60 uppercase font-medium tracking-wide text-left border-b-2 border-gray-20">isBig \ myAnimal</th><th class="py-2 pr-8 text-12 text-gray-60 uppercase font-medium tracking-wide text-left border-b-2 border-gray-20">Dog</th><th class="py-2 pr-8 text-12 text-gray-60 uppercase font-medium tracking-wide text-left border-b-2 border-gray-20">Cat</th><th class="py-2 pr-8 text-12 text-gray-60 uppercase font-medium tracking-wide text-left border-b-2 border-gray-20">Bird</th></tr></thead><tbody><tr><td class="border-b border-gray-20 py-3 pr-8">true</td><td class="border-b border-gray-20 py-3 pr-8">1</td><td class="border-b border-gray-20 py-3 pr-8">2</td><td class="border-b border-gray-20 py-3 pr-8">3</td></tr><tr><td class="border-b border-gray-20 py-3 pr-8">false</td><td class="border-b border-gray-20 py-3 pr-8">4</td><td class="border-b border-gray-20 py-3 pr-8">4</td><td class="border-b border-gray-20 py-3 pr-8">5</td></tr></tbody></table></div><h3 class="group mt-8 mb-1 hl-4">Fall-Through Patterns<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#fall-through-patterns"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="fall-through-patterns" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">The nested pattern check, demonstrated in the earlier <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">person</code> example, also works at the top level of a <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code>:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">在前面的<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">person</code>的例子中展示的嵌套模式检查, 也可以用在<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code>的顶层.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBAtgngymAhmArgZwgXggNUQY2QEsB7AOzQAoBGABgEoAoRtAdyLHwAtp4lUMAb0YAfXAWLkqAE0Qw0TMXEQAjFcULBKs+fSwA+CACk0AOmAkA5pQAGAYRJQQEdfgDWEImQgASQSdMASTIwUzASBAAnL2sdBQBfCDiAQhtFCDgid1EIAAVIkDQQEINjMwtrACIACRAYZIhqklYIRAKIGBIUAH5KpnjGIA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> myStatus <span class="hljs-operator">=</span> <span class="hljs-constructor">Vacations</span>(<span class="hljs-number">10</span>)

<span class="hljs-keyword">switch</span> myStatus <span class="hljs-literal">{</span>
| <span class="hljs-constructor">Vacations</span>(days)
| <span class="hljs-constructor">Sabbatical</span>(days) <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">`Come back in ${Js.Int.toString(days)} days!`</span>)
| <span class="hljs-constructor">Sick</span>
| <span class="hljs-constructor">Present</span> <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Hey! How are you?&quot;</span>)
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Having multiple cases fall into the same handling can clean up certain types of logic.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">让多个本质放在一起处理, 可以让某些类型的逻辑更加清晰.</p><h3 class="group mt-8 mb-1 hl-4">Ignore Part of a Value | 忽略某部分的值<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#ignore-part-of-a-value--忽略某部分的值"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="ignore-part-of-a-value--忽略某部分的值" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">If you have a value like <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Teacher(payload)</code> where you just want to pattern match on the <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Teacher</code> part and ignore the <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">payload</code> completely, you can use the <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code> wildcard like this:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">如果你有个像<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Teacher(payload)</code>的值, 你可能只想匹配<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Teacher</code>部分而完全忽略<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">payload</code>部分, 这种情况你可以使用下划线<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code>, 像这样:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=M4dwlgLgxgFgBABwKYCdgHsB2BGOBvAKAB84AVJAQ1lQAoB9ASjgF4A+OAKWADoAbdAOY0ARAAkwcCJWophDYnADKEAK4ATJJgj0mbTj35CxSAJ5xgqjVrkEAvgSA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">switch</span> person1 <span class="hljs-literal">{</span>
| <span class="hljs-constructor">Teacher</span>(_) <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Hi teacher&quot;</span>)
| <span class="hljs-constructor">Student</span>(_) <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Hey student&quot;</span>)
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code> also works at the top level of the <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code>, serving as a catch-all condition:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">下划线也可以<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code>用在<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code>的顶层, 当作一个默认分支:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=M4dwlgLgxgFgBAWwJ4GUIEMIFdhwN4BQAPnAGrpSZgD2AdsABQD6AlHALwB8cAUsAHQAbagHMGAIgAS6AG4BTOADMstAITiWxOEw7c+Q0RIDyAa34aCAXwJA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">switch</span> myStatus <span class="hljs-literal">{</span>
| <span class="hljs-constructor">Vacations</span>(_) <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Have fun!&quot;</span>)
| _ <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Ok.&quot;</span>)
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">Do not</strong> abuse a top-level catch-all condition. Instead, prefer writing out all the cases:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">不要</strong>过度使用默认分支, 最好写下每种情况:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=M4dwlgLgxgFgBAWwJ4GUIEMIFdhwN4BQAPnAGrpSZgD2AdsABQD6AlHALwB8cAUsAHQAbagHMGAIgAS6AG4BTOADMstAITiWxOCnQAjXVUqDmbEijBQA1nBIAFAE5zgc2hA7c+Q0RIDyl-hoEAL4EQA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">switch</span> myStatus <span class="hljs-literal">{</span>
| <span class="hljs-constructor">Vacations</span>(_) <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Have fun!&quot;</span>)
| <span class="hljs-constructor">Sabbatical</span>(_) | <span class="hljs-constructor">Sick</span> | <span class="hljs-constructor">Present</span> <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Ok.&quot;</span>)
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Slightly more verbose, but a one-time writing effort. This helps when you add a new variant case e.g. <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Quarantined</code> to the <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">status</code> type and need to update the places that pattern match on it. A top-level wildcard here would have accidentally and silently continued working, potentially causing bugs.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">稍微有些啰嗦, 但只是一次性的编写工作. 当你为<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">status</code>类型添加了一个新的变体, 例如<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Quarantined</code>, 并需要更新模式匹配的地方时, 这样做将有所帮助. 这里的顶层通配符会意外地默默地继续工作, 然后产生bug.</p><h3 class="group mt-8 mb-1 hl-4">If Clause | If 子句<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#if-clause--if-子句"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="if-clause--if-子句" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Sometime, you want to check more than the shape of a value. You want to also run some arbitrary check on it. You might be tempted to write this:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">有的时候你可能会想检查除了值的形状以外的东西, 在值上进行各种各样的检查. 你可能会尝试这样写:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=M4dwlgLgxgFgBABwKYCdgHsB2BGOBvAKAB84AVJAQ1lQAoB9ASjgF4A+OGpgei7gBN0cTOggwwmAObE4AZQgBXPkkwQaeFEgToUEAMIUUfAFz4JCCgF8LTNgThwwAMzhmKcADxwADADoArPh29nAAUsA+ADboEjQARADqMBQQAOTAcEkIyJjiErEMQRZwSBHASIHBoeFRMbEAEkgAnuj5hQQWBEA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">switch</span> person1 <span class="hljs-literal">{</span>
| <span class="hljs-constructor">Teacher</span>(_) <span class="hljs-function">=&gt;</span> () <span class="hljs-comment">// do nothing</span>
| <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>reportCard: <span class="hljs-literal">{</span>gpa<span class="hljs-literal">}</span><span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-keyword">if</span> gpa &lt; <span class="hljs-number">0.5</span> <span class="hljs-literal">{</span>
    <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;What&#x27;s happening&quot;</span>)
  <span class="hljs-literal">}</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">{</span>
    <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Heyo&quot;</span>)
  <span class="hljs-literal">}</span>
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code> patterns support a shortcut for the arbitrary <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">if</code> check, to keep your pattern linear-looking:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code>模式支持任意的<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">if</code>检查的快捷方式, 以保持模式匹配的线性的外观.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=M4dwlgLgxgFgBABwKYCdgHsB2BGOBvAKAB84AVJAQ1lQAoB9ASjgF4A+OGpgei7gBN0cTOggwwmAObE4AZQgBXPkkwQaeFEgToUEAMIUUfAFz4JCCgF8LTMADM4ZinAA8cAAwA6AKwtWBOHAAUsAeADboEjQARADqMBQQAOTAcPEIyJjiElEM0nKKyqqMvv5wPHC2FKGhALSiKOjyEjAANHBQCbA1VaHtFMBIpcFhEdEAEkgAnug5BBYEQA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">switch</span> person1 <span class="hljs-literal">{</span>
| <span class="hljs-constructor">Teacher</span>(_) <span class="hljs-function">=&gt;</span> () <span class="hljs-comment">// do nothing</span>
| <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>reportCard: <span class="hljs-literal">{</span>gpa<span class="hljs-literal">}</span><span class="hljs-literal">}</span>) <span class="hljs-keyword">if</span> gpa &lt; <span class="hljs-number">0.5</span> <span class="hljs-function">=&gt;</span>
  <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;What&#x27;s happening&quot;</span>)
| <span class="hljs-constructor">Student</span>(_) <span class="hljs-function">=&gt;</span>
  <span class="hljs-comment">// fall-through, catch-all case</span>
  <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Heyo&quot;</span>)
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">Note:</strong> ReScript versions &lt; 9.0 had a <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">when</code> clause, not an <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">if</code> clause.  Rescript 9.0 changed <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">when</code> to <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">if</code>.  (<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">when</code> may still work, but is deprecated.)</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意:</strong> ReScript版本 &lt; 9.0 使用的是<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">when</code>子句而不是<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">if</code>子句. ReScript在9.0版本从<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">when</code>切换到了<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">if</code>. (<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">when</code>任然可以使用, 只是被废弃了.)</p><h3 class="group mt-8 mb-1 hl-4">Match on Exceptions | 匹配异常值<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#match-on-exceptions--匹配异常值"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="match-on-exceptions--匹配异常值" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">If the function throws an exception (covered later), you can also match on <em>that</em>, in addition to the function&#x27;s normally returned values.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">如果函数可能会抛出一个异常(稍后会介绍), 除了可以匹配正常的返回值之外, 还可以在那个异常上进行模式匹配.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=M4dwlgLgxgFgBAGTMCA6AZmAdgEwBRhwC8AfHIUZXBDAKYCSEtAtgDRzMCejLwAlHADeAKAA+5Js2JkAUsFQAbAPYBzApL5i4tAB5RaABwhglWOADklEAProlAV1zS4cxarwAiS3GD3YEljg7RxwAQg9NAF9hIA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">switch</span> <span class="hljs-module-identifier">List</span>.find(i <span class="hljs-function">=&gt;</span> i <span class="hljs-operator">===</span> theItem, myItems) <span class="hljs-literal">{</span>
| item <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(item)
| <span class="hljs-keyword">exception</span> <span class="hljs-constructor">Not_found</span> <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;No such item found!&quot;</span>)
<span class="hljs-literal">}</span>
</code></pre></div></div></div><h3 class="group mt-8 mb-1 hl-4">Match on Array | 在数组上进行匹配<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#match-on-array--在数组上进行匹配"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="match-on-array--在数组上进行匹配" style="position:absolute;top:-7rem"></a></span></span></h3><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBAzmCuAmIB2YoQLwQNoCIBSAhkiDgDQQ4ASBATgG4gCeZFACgWDQJYDGA1jgC6AKCgB3LmB4ALaHEQo0Ab2EAfbIIwA+CHigA6YAHsA5gAocAFWkgaICLXtIjchMlQ4AlGuww3KAEZNdC1hCF0DY3MrGzsAcjQCaC4kE1BXBUhYkAAuCggAagKM9wDvdQBbIkYAZXl3NBCwiAB6Foh4LigAB2ACRggwGwcaGn6IIwAzCCQCCpAoZr1DUwAmC2t7P0zEuzyWKqRa+sVvAF9hIA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> students <span class="hljs-operator">=</span> [<span class="hljs-string">&quot;Jane&quot;</span>, <span class="hljs-string">&quot;Harvey&quot;</span>, <span class="hljs-string">&quot;Patrick&quot;</span>]
<span class="hljs-keyword">switch</span> students <span class="hljs-literal">{</span>
| [] <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;There are no students&quot;</span>)
| [student1] <span class="hljs-function">=&gt;</span>
  <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;There&#x27;s a single student here: &quot;</span> <span class="hljs-operator">++</span> student1)
| manyStudents <span class="hljs-function">=&gt;</span>
  <span class="hljs-comment">// display the array of names</span>
  <span class="hljs-module-identifier">Js</span>.log2(<span class="hljs-string">&quot;The students are: &quot;</span>, manyStudents)
<span class="hljs-literal">}</span>
</code></pre></div></div></div><h3 class="group mt-8 mb-1 hl-4">Match on List | 在列表上进行匹配<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#match-on-list--在列表上进行匹配"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="match-on-list--在列表上进行匹配" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Pattern matching on list is similar to array, but with the extra feature of extracting the tail of a list (all elements except the first one):</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">列表上的模式匹配与数组类似, 但有一个额外的特点, 即提取列表的尾部(除第一个元素外的所有元素).</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBATiDGEAcoEsB2YDKYCuATE6AzhALwQAUhO+RAlKQHwQDeAUBBIQO7JiwAWnagTDE2HAD4RgyKswC+jCvQD0KiLgD2qEOwhSZcqnhGKSTAFKEAdME0BzcgCIAMgEMqQk+gBcEJxAA1IFeNGC0egayYMzGYQCMADQQ1qmaYPwgUFjeomYMehxWtg6UwujxERwcSGiY5aLk6ZnZDYRVEPKsXbXoOWGE5IYxThZuOk7JTgASblAAbiAAnpP+AApuYCiwANZO8hFAA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> <span class="hljs-keyword">rec</span> printStudents <span class="hljs-operator">=</span> (students) <span class="hljs-function">=&gt;</span> <span class="hljs-literal">{</span>
  <span class="hljs-keyword">switch</span> students <span class="hljs-literal">{</span>
  | <span class="hljs-literal">list{</span><span class="hljs-literal">}</span> <span class="hljs-function">=&gt;</span> () <span class="hljs-comment">// done</span>
  | <span class="hljs-literal">list{</span>student<span class="hljs-literal">}</span> <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;Last student: &quot;</span> <span class="hljs-operator">++</span> student)
  | <span class="hljs-literal">list{</span>student1, <span class="hljs-operator">...</span>otherStudents<span class="hljs-literal">}</span> <span class="hljs-function">=&gt;</span>
    <span class="hljs-module-identifier">Js</span>.log(student1)
    printStudents(otherStudents)
  <span class="hljs-literal">}</span>
<span class="hljs-literal">}</span>
printStudents(<span class="hljs-literal">list{</span><span class="hljs-string">&quot;Jane&quot;</span>, <span class="hljs-string">&quot;Harvey&quot;</span>, <span class="hljs-string">&quot;Patrick&quot;</span><span class="hljs-literal">}</span>)
</code></pre></div></div></div><h3 class="group mt-8 mb-1 hl-4">Small Pitfall | 一些小陷阱<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#small-pitfall--一些小陷阱"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="small-pitfall--一些小陷阱" style="position:absolute;top:-7rem"></a></span></span></h3><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">Note</strong>: you can only pass literals (i.e. concrete values) as a pattern, not let-binding names or other things. The following doesn&#x27;t work as expected:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">注意</strong>: 你只能传递字面值(即具体的值)作为模式, 不能传递let-binding名称或其他东西, 下面的方法不能像预期的那样工作.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBAxg9jBOATAlgOwIZhAZwgXggAoBGABgBoIAmCiAZlIEoAoUSKEVLeATX2tLNsAd2RgoAC2hwkaTDggBvZgB8iAD0ocuIXpQD6jfAD4IAKWwA6YDADmhdSwC+zIA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> coordinates <span class="hljs-operator">=</span> (<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>)
<span class="hljs-keyword">let</span> centerY <span class="hljs-operator">=</span> <span class="hljs-number">20</span>
<span class="hljs-keyword">switch</span> coordinates <span class="hljs-literal">{</span>
| (x, centerY, _) <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(x)
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">A first time ReScript user might accidentally write that code, assuming that it&#x27;s matching on <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">coordinates</code> when the second value is of the same value as <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">centerY</code>. In reality, this is interpreted as matching on coordinates and assigning the second value of the tuple to the name <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">centerY</code>, which isn&#x27;t what&#x27;s intended.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">第一次使用ReScript的人可能会不小心写下这段代码, 认为当第二个值与<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">centerY</code>相同的时候会匹配<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">coordinates</code>. 实际上, 这会被解释为在<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">coordinates</code>上进行匹配, 并将元组的第二个值分配给<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">centerY</code>, 而这并不是我们想要的结果.</p><h2 class="group mt-16 mb-3 hl-3">Exhaustiveness Check | 穷举检查<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#exhaustiveness-check--穷举检查"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="exhaustiveness-check--穷举检查" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">As if the above features aren&#x27;t enough, ReScript also provides arguably the most important pattern matching feature: <strong class="font-semibold">compile-time check of missing patterns</strong>.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">如果上述特性还不够, ReScript还提供了可以说是最重要的模式匹配功能. <strong class="font-semibold">编译期检查丢失的模式</strong>.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Let&#x27;s revisit one of the above examples:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">我们再来重审一下上面的例子:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBAtiDOsEMDmIIF4KwO4EswGMALCABxACdYB7AOwEYIBvAKAB8IAVEBIigCkY0EMAFwQARAFkE5AJ7iI7cQCkqIcQF8AlOgB8zCBAAGACRCyANJjA5gwCEio4aSCGCpvCqEjLCyItBAAyghgAK7kACYIsgD8RmzB4ZEgNGACQjBW5CAkVORgAMIykWKMPvDOSGJg5GEgVkg+Gtp6BsaFtEjkobAQACSCwiAaVjQ4+KgA4gAKAIIBAGYDjMqwAHQAYsBUoevuQbVVfE0IWhoQslRhDlSQYF45AIQJ7IdhKWkC7YY5eQXFKJlU5iAAM61Box+1lCYVgYgAajxQjhaLA+NFZLAADIgRZgHRvBAAI2JKPwCGAGJiOLxBParTQ+kMRk6MAgZPwAGsIM4Vmt1gBJNL7KiHcjHTG0-HnCBSl6Jd6fdKMWBgWHw4ITLmM5nGExULAQGSoK43RYgEDAKrxRXJVIqzIjHRM9pGKZUKiRCDAMLciA0EAAD0gsBAMDVFBWTo0Co0zCAA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> message <span class="hljs-operator">=</span> <span class="hljs-keyword">switch</span> person1 <span class="hljs-literal">{</span>
| <span class="hljs-constructor">Teacher</span>(<span class="hljs-literal">{</span>name: <span class="hljs-string">&quot;Mary&quot;</span> | <span class="hljs-string">&quot;Joe&quot;</span><span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-string">`Hey, still going to the party on Saturday?`</span>
| <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>name, reportCard: <span class="hljs-literal">{</span>passing: <span class="hljs-literal">true</span>, gpa<span class="hljs-literal">}</span><span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-string">`Congrats ${name}, nice GPA of ${Js.Float.toString(gpa)} you got there!`</span>
| <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>
    reportCard: <span class="hljs-literal">{</span>gpa: <span class="hljs-number">0.0</span><span class="hljs-literal">}</span>,
    status: <span class="hljs-constructor">Vacations</span>(daysLeft) | <span class="hljs-constructor">Sabbatical</span>(daysLeft)
  <span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-string">`Come back in ${Js.Int.toString(daysLeft)} days!`</span>
| <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>status: <span class="hljs-constructor">Sick</span><span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-string">`How are you feeling?`</span>
| <span class="hljs-constructor">Student</span>(<span class="hljs-literal">{</span>name<span class="hljs-literal">}</span>) <span class="hljs-function">=&gt;</span>
  <span class="hljs-string">`Good luck next semester ${name}!`</span>
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Did you see what we removed? This time, we&#x27;ve omitted the handling of the case where <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">person1</code> is <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Teacher({name})</code> when <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">name</code> isn&#x27;t Mary or Joe.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">你看到我们移除的部分了吗? 这一次, 我们省略了对<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">person1</code>是<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">Teacher({name})</code>的情况的处理, 当<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">name</code>不是Mary或Joe.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Failing to handle every scenario of a value likely constitutes the majority of program bugs out there. This happens very often when you refactor a piece of code someone else wrote. Fortunately for ReScript, the compiler will tell you so:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">未能处理值的每一种情况可能构成了大多数的程序错误, 当你重构别人编写的代码时, 这种情况经常发生. 幸运的是对于ReScript, 遇到这种情况编译器会告诉你.</p><pre class="mt-2 mb-4 -mx-6 xs:mx-0 block"><div class="md-code font-mono w-full block mt-5 mb-5"><div class="relative w-full flex-col rounded-none xs:rounded border-t border-b xs:border border-gray-20 bg-gray-10 py-2 text-gray-80"><div class="absolute right-0 px-4 pb-4 font-sans text-12 font-bold text-gray-30"></div><div class="px-5 text-14 pt-4 pb-2 overflow-x-auto -mt-2"><code class="hljs lang-text ">Warning 8: this pattern-matching is not exhaustive.
Here is an example of a value that is not matched:
Some({name: &quot;&quot;})
</code></div></div></div></pre><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">BAM</strong>! You&#x27;ve just erased an entire category of important bugs before you even ran the code. In fact, this is how most of nullable values is handled:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">BAM</strong>! 在你运行代码之前, 你就已经抹去了一整类重要的错误. 事实上, 大部分的可空值(nullable)都是这样处理的.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBAtgngcgV2MAhgI1ANRcBIIC8EAygPZQgAUArAJQBQ9AzgO4CWYAxgBbTxKoMIbLnwBvegB8S5KgDdahAHwQAUkwB0wUgHNKAIjk48ENkwgAHAE4gmIAHZh9DaXFL38BFeq26DR0VNzdDtHZ3oAX3ogA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> myNullableValue <span class="hljs-operator">=</span> <span class="hljs-constructor">Some</span>(<span class="hljs-number">5</span>)

<span class="hljs-keyword">switch</span> myNullableValue <span class="hljs-literal">{</span>
| <span class="hljs-constructor">Some</span>(v) <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;value is present&quot;</span>)
| <span class="hljs-constructor">None</span> <span class="hljs-function">=&gt;</span> <span class="hljs-module-identifier">Js</span>.log(<span class="hljs-string">&quot;value is absent&quot;</span>)
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">If you don&#x27;t handle the <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">None</code> case, the compiler warns. No more <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">undefined</code> bugs in your code!</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">如果你不处理<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">None</code>的情况, 编译器会发出警告. 在你的代码中不再有 <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">undefined</code> 的错误了!</p><h2 class="group mt-16 mb-3 hl-3">Conclusion &amp; Tips &amp; Tricks | 结论 &amp; 技巧 &amp; 诀窍<span class="ml-2"><span class="inline group relative"><a class="invisible text-gray-60 opacity-50 text-inherit hover:opacity-100 hover:text-gray-60 hover:cursor-pointer group-hover:visible" href="#conclusion--tips--tricks--结论--技巧--诀窍"><svg class="fill-current inline-block align-middle text-gray-40" height="0.8em" width="0.8em" viewBox="0 0 20.003 19.944"><path d="M11.927 7.908a4.819 4.819 0 00-3.968-1.3 5.091 5.091 0 00-2.921 1.508L1.47 11.684a4.82 4.82 0 00.192 7.122 4.994 4.994 0 006.76-.4l3.7-3.776a.109.109 0 00-.067-.184s-.649.029-1.132.006a10.116 10.116 0 01-1.35-.226.308.308 0 00-.243.088l-2.529 2.609a2.733 2.733 0 01-3.583.319 2.64 2.64 0 01-.247-3.951l3.755-3.753a2.7 2.7 0 013.654-.073.108.108 0 00.15 0l1.4-1.4a.114.114 0 00-.003-.157z"></path><path d="M8.076 12.036a4.822 4.822 0 003.967 1.3 5.089 5.089 0 002.922-1.509l3.568-3.568a4.818 4.818 0 00-.192-7.121 5 5 0 00-6.761.4l-3.7 3.777a.108.108 0 00.067.183s.648-.028 1.132-.006a10.151 10.151 0 011.35.226.3.3 0 00.243-.088l2.529-2.608a2.732 2.732 0 013.581-.319 2.638 2.638 0 01.249 3.95l-3.755 3.754a2.706 2.706 0 01-3.654.073.107.107 0 00-.15 0l-1.4 1.4a.113.113 0 00.004.156z"></path></svg></a><a id="conclusion--tips--tricks--结论--技巧--诀窍" style="position:absolute;top:-7rem"></a></span></span></h2><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Hopefully you can see how pattern matching is a game changer for writing correct code, through the concise destructuring syntax, the proper conditions handling of <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code>, and the static exhaustiveness check.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">希望已经你看到模式匹配是如何通过简洁的析构语法, <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">switch</code>的适当条件处理和静态穷举检查改变编写正确代码的游戏规则的. </p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Below is some advice:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">下面是一些建议:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Avoid using the wildcard <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code> unnecessarily.  Using the wildcard <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code> will bypass the compiler&#x27;s exhaustiveness check.  Consequently, the compiler will not be able to notify you of probable errors when you add a new case to a variant. Try only using <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code> against infinite possibilities, e.g. string, int, etc.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">避免不必要地使用通配符<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code>. 使用通配符<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code>将绕过编译器的穷举检查. 因此, 当你在变体中增加一个新的情况时, 编译器将无法通知你可能出现的错误. 试着只在需要应对无限的可能性的时候使用<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">_</code>, 例如字符串、int等. </p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Use the <code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">if</code> clause sparingly.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">尽量少使用<code class="md-inline-code px-2 py-0.5 text-14 text-gray-60 font-mono rounded-sm bg-gray-10-tr border border-gray-90 border-opacity-5">if</code>子句.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">Flatten your pattern-match whenever you can</strong>. This is a real bug remover. Here&#x27;s a series of examples, from worst to best:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16"><strong class="font-semibold">尽可能扁平化你的模式匹配</strong>. 这是一个真正的消除错误的工具, 这里有一系列的例子, 从最差到最好.</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBA9gDmCWUB2AhKVgBUpoxAvNHAQHwQDeAUBBPAGZGT6EByyIF1NEdAhsAGcQXAL4QQgjvUYFmEAMpQAtiAAUYAE4BXEAEpO3CJp2jxkg9z6TRlEZSA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> optionBoolToBool <span class="hljs-operator">=</span> opt <span class="hljs-function">=&gt;</span> <span class="hljs-literal">{</span>
  <span class="hljs-keyword">if</span> opt <span class="hljs-operator">==</span> <span class="hljs-constructor">None</span> <span class="hljs-literal">{</span>
    <span class="hljs-literal">false</span>
  <span class="hljs-literal">}</span> <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> opt <span class="hljs-operator">===</span> <span class="hljs-constructor">Some</span>(<span class="hljs-literal">true</span>) <span class="hljs-literal">{</span>
    <span class="hljs-literal">true</span>
  <span class="hljs-literal">}</span> <span class="hljs-keyword">else</span> <span class="hljs-literal">{</span>
    <span class="hljs-literal">false</span>
  <span class="hljs-literal">}</span>
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Now that&#x27;s just silly =). Let&#x27;s turn it into pattern-matching:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">现在这只是不那么聪明的做法, 现在我们将其转为模式匹配:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBA9gDmCWUB2AhKVgBUpoxAvNHAQHwQDeAUBBAM4Du8YAxgBZGRU0A+EAcshCkIAMwCGwWiGoReAZSgBbEAAoxASmFiIAfghgATgFchALlESpMgL6VbQA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> optionBoolToBool <span class="hljs-operator">=</span> opt <span class="hljs-function">=&gt;</span> <span class="hljs-literal">{</span>
  <span class="hljs-keyword">switch</span> opt <span class="hljs-literal">{</span>
  | <span class="hljs-constructor">None</span> <span class="hljs-function">=&gt;</span> <span class="hljs-literal">false</span>
  | <span class="hljs-constructor">Some</span>(a) <span class="hljs-function">=&gt;</span> a ? <span class="hljs-literal">true</span> : <span class="hljs-literal">false</span>
  <span class="hljs-literal">}</span>
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Slightly better, but still nested. Pattern-matching allows you to do this:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">看起来没那么傻了, 但任然存在嵌套, 模式匹配让你可以这么做:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBA9gDmCWUB2AhKVgBUpoxAvNHAQHwQDeAUBBAM4Du8YAxgBZGRU0A+EAcshCkIAMwCGwWiGoReAZSgBbEAAowAJwCuIAJTCN2mfKWrxk3cLNSZAX0p2gA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> optionBoolToBool <span class="hljs-operator">=</span> opt <span class="hljs-function">=&gt;</span> <span class="hljs-literal">{</span>
  <span class="hljs-keyword">switch</span> opt <span class="hljs-literal">{</span>
  | <span class="hljs-constructor">None</span> <span class="hljs-function">=&gt;</span> <span class="hljs-literal">false</span>
  | <span class="hljs-constructor">Some</span>(<span class="hljs-literal">true</span>) <span class="hljs-function">=&gt;</span> <span class="hljs-literal">true</span>
  | <span class="hljs-constructor">Some</span>(<span class="hljs-literal">false</span>) <span class="hljs-function">=&gt;</span> <span class="hljs-literal">false</span>
  <span class="hljs-literal">}</span>
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Much more linear-looking! Now, you might be tempted to do this:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">看起来更线性化了! 现在, 你可能会尝试这么做:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBA9gDmCWUB2AhKVgBUpoxAvNHAQHwQDeAUBBAM4Du8YAxgBZGRU0A+EAylAC2IABRgATgFcQASlIQJ06hF4B9eQDMAhsFohlAX0pGgA}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> optionBoolToBool <span class="hljs-operator">=</span> opt <span class="hljs-function">=&gt;</span> <span class="hljs-literal">{</span>
  <span class="hljs-keyword">switch</span> opt <span class="hljs-literal">{</span>
  | <span class="hljs-constructor">Some</span>(<span class="hljs-literal">true</span>) <span class="hljs-function">=&gt;</span> <span class="hljs-literal">true</span>
  | _ <span class="hljs-function">=&gt;</span> <span class="hljs-literal">false</span>
  <span class="hljs-literal">}</span>
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Which is much more concise, but kills the exhaustiveness check mentioned above; refrain from using that. This is the best:</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">这缺失更简洁了, 但会破坏上面提到的穷举检查; 尽量不要使用这个. 这是最好的写法:</p><div class="md-codetab mt-8 mb-8 -mx-6 xs:mx-0"><div class="relative pt-6 w-full rounded-none text-gray-80"><div class="absolute flex w-full font-sans bg-transparent text-14 text-gray-40 " style="margin-top:-26px"><div class="flex ml-2 xs:ml-0"><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 text-gray-40 bg-gray-5 border-t-2 first:border-l" style="border-color:#696B7D #EDF0F2">ReScript</span><span class="sm:px-4 flex-none px-5 inline-block p-1 first:rounded-tl font-medium text-12 hover:text-gray-60 border-t-2 bg-gray-20 hover:cursor-pointer" style="border-color:transparent">JS Output</span></div><div class="flex-1 w-full bg-gray-20 border-b rounded-tr border-gray-20 items-center"><div class="flex items-center justify-end h-full pr-4 space-x-2"><a target="_blank" href="/try?code=DYUwLgBA9gDmCWUB2AhKVgBUpoxAvNHAQHwQDeAUBBAM4Du8YAxgBZGRU0A+EAylAC2IABRgATgFcQAeXEAxAIbBaIAJSkIE6XKUqQ1CLwByyEJoBmy1YYC+le0A}"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6M15 3h6v6M10 14L21 3"></path></svg></a><button class="relative"><svg class="stroke-current text-gray-30 mt-px hover:cursor-pointer hover:text-gray-60 hover:bg-gray-30 w-6 h-6 p-1 rounded transition-all duration-300 ease-in-out" height="16" width="16" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 012 2v14a2 2 0 01-2 2H6a2 2 0 01-2-2V6a2 2 0 012-2h2"></path><rect height="4" width="8" rx="1" ry="1" x="8" y="2"></rect></svg></button></div></div></div><div class="px-4 lg:px-5 text-14 pb-4 pt-4 overflow-x-auto bg-gray-10 border-gray-20 xs:rounded-b border"><pre><code class="hljs lang-res "><span class="hljs-keyword">let</span> optionBoolToBool <span class="hljs-operator">=</span> opt <span class="hljs-function">=&gt;</span> <span class="hljs-literal">{</span>
  <span class="hljs-keyword">switch</span> opt <span class="hljs-literal">{</span>
  | <span class="hljs-constructor">Some</span>(trueOrFalse) <span class="hljs-function">=&gt;</span> trueOrFalse
  | <span class="hljs-constructor">None</span> <span class="hljs-function">=&gt;</span> <span class="hljs-literal">false</span>
  <span class="hljs-literal">}</span>
<span class="hljs-literal">}</span>
</code></pre></div></div></div><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">Pretty darn hard to make a mistake in this code at this point! Whenever you&#x27;d like to use an if-else with many branches, prefer pattern matching instead. It&#x27;s more concise and <a class="no-underline text-fire hover:underline" href="variant#design-decisions" rel="noopener noreferrer">performant</a> too.</p><p class="md-p md:leading-5 tracking-[-0.015em] text-gray-80 md:text-16">这个时候, 要想在这段代码中犯错是非常困难的! 当你想使用一个有许多分支的if-else时, 最好用模式匹配来代替. 它更简洁, 而且<a class="no-underline text-fire hover:underline" href="variant#design-decisions" rel="noopener noreferrer">性能更好</a>. </p></div></main></div></div></div><footer class="flex justify-center border-t border-gray-10"><div class="flex flex-col md:flex-row justify-between max-w-1280 w-full px-8 py-16 text-gray-80 "><div><img class="w-40 mb-5" src="/static/rescript_logo_black.svg"/><div class="text-16"><p>© 2022 The ReScript Project</p><p>Software and assets distribution powered by <a class="no-underline text-fire hover:underline" href="https://www.keycdn.com/" rel="noopener noreferrer">KeyCDN</a>.</p><p><a href="https://simpleanalytics.com/rescript-lang.org" rel="noopener noreferrer" target="_blank"><img class="h-[2.25rem] mt-6" src="https://simpleanalyticsbadge.com/rescript-lang.org?counter=true&amp;radius=13"/></a></p></div></div><div class="flex flex-col space-y-16 md:flex-row mt-16 md:mt-0 md:ml-16 md:space-y-0 md:space-x-16"><div><span class="block text-gray-60 tracking-wide text-14 uppercase mb-4">About</span><ul class="text-16 text-gray-80-tr space-y-2"><li><a class="hover:underline hover:pointer" href="/community#core-team">Team</a></li><li><a class="hover:underline hover:pointer" href="https://rescript-association.org">ReScript Association</a></li></ul></div><div><span class="block text-gray-60 tracking-wide text-14 uppercase mb-4">Find us on</span><div class="flex space-x-3 text-gray-100"><a class="hover:pointer hover:text-gray-60-tr" href="https://github.com/rescript-lang" rel="noopener noreferrer"><svg class="fill-current w-6 h-6" height="17.79" width="18.236" viewBox="0 0 18.236 17.79"><g transform="translate(8 -5.365)"><path d="M17.013,9.906a9.078,9.078,0,0,0-3.318-3.318A8.918,8.918,0,0,0,9.118,5.365,8.919,8.919,0,0,0,4.541,6.588,9.077,9.077,0,0,0,1.223,9.906,8.919,8.919,0,0,0,0,14.483a8.861,8.861,0,0,0,1.739,5.36,8.93,8.93,0,0,0,4.493,3.294.531.531,0,0,0,.475-.083.464.464,0,0,0,.154-.356q0-.036-.006-.641T6.85,21l-.273.047a3.484,3.484,0,0,1-.659.042,5.02,5.02,0,0,1-.825-.083,1.844,1.844,0,0,1-.8-.356,1.506,1.506,0,0,1-.522-.73l-.119-.273a2.966,2.966,0,0,0-.374-.605,1.432,1.432,0,0,0-.516-.451l-.083-.06a.871.871,0,0,1-.154-.143.651.651,0,0,1-.107-.166q-.036-.083.059-.137a.77.77,0,0,1,.344-.053l.237.035a1.733,1.733,0,0,1,.588.285,1.916,1.916,0,0,1,.576.617,2.093,2.093,0,0,0,.659.742,1.4,1.4,0,0,0,.778.255,3.376,3.376,0,0,0,.677-.059,2.362,2.362,0,0,0,.534-.178,1.924,1.924,0,0,1,.582-1.223,8.129,8.129,0,0,1-1.217-.214,4.845,4.845,0,0,1-1.116-.463,3.2,3.2,0,0,1-.956-.8,3.822,3.822,0,0,1-.623-1.247A5.928,5.928,0,0,1,3.3,14.007a3.463,3.463,0,0,1,.938-2.446A3.192,3.192,0,0,1,4.321,9.14a1.664,1.664,0,0,1,1.021.16,7.138,7.138,0,0,1,.991.457q.315.19.5.321a8.574,8.574,0,0,1,4.559,0l.451-.285a6.389,6.389,0,0,1,1.092-.522,1.556,1.556,0,0,1,.962-.13A3.161,3.161,0,0,1,14,11.562a3.463,3.463,0,0,1,.938,2.446,5.994,5.994,0,0,1-.243,1.787,3.674,3.674,0,0,1-.629,1.247,3.319,3.319,0,0,1-.962.789,4.855,4.855,0,0,1-1.116.463,8.121,8.121,0,0,1-1.217.214,2.115,2.115,0,0,1,.617,1.686v2.5a.473.473,0,0,0,.149.356.516.516,0,0,0,.469.083A8.929,8.929,0,0,0,16.5,19.842a8.863,8.863,0,0,0,1.739-5.36A8.926,8.926,0,0,0,17.013,9.906Z" transform="translate(-8 0)"></path></g></svg></a><a class="hover:pointer hover:text-gray-60-tr" href="https://twitter.com/rescriptlang" rel="noopener noreferrer"><svg class="fill-current w-6 h-6" viewBox="0 0 15.53 12.71"><path d="M5.794,12.711a13.325,13.325,0,0,1-2.058-.163A9.659,9.659,0,0,1,.92,11.523L0,11.02l1-.328c1.089-.358,1.751-.58,2.571-.928A3.421,3.421,0,0,1,1.809,7.726l-.232-.7.19.029a3.456,3.456,0,0,1-.433-.534A3.276,3.276,0,0,1,.779,4.57l.044-.614L1.19,4.1a3.437,3.437,0,0,1-.333-.934A3.552,3.552,0,0,1,1.235.774l.32-.588L1.984.7A7.883,7.883,0,0,0,7.091,3.575a3.054,3.054,0,0,1,.185-1.623A3.038,3.038,0,0,1,8.511.536,3.71,3.71,0,0,1,10.664.008a3.439,3.439,0,0,1,2.114.872,7.1,7.1,0,0,0,.774-.258c.17-.064.362-.136.6-.219L15.042.1l-.579,1.652.119-.008L15.53,1.7l-.56.765c-.032.044-.04.056-.052.073-.045.068-.1.153-.87,1.179a1.448,1.448,0,0,0-.271.943,8.916,8.916,0,0,1-.487,3.586,6.346,6.346,0,0,1-1.7,2.524,7.524,7.524,0,0,1-3.566,1.724A10.979,10.979,0,0,1,5.794,12.711Zm0,0" transform="translate(0 -0.001)"></path></svg></a><a class="hover:pointer hover:text-gray-60-tr" href="https://forum.rescript-lang.org" rel="noopener noreferrer"><svg class="fill-current w-6 h-6" viewBox="0 0 24 24"><path d="M12.103 0C18.666 0 24 5.485 24 11.997c0 6.51-5.33 11.99-11.9 11.99L0 24V11.79C0 5.28 5.532 0 12.103 0zm.116 4.563a7.395 7.395 0 00-6.337 3.57 7.247 7.247 0 00-.148 7.22L4.4 19.61l4.794-1.074a7.424 7.424 0 008.136-1.39 7.256 7.256 0 001.737-7.997 7.375 7.375 0 00-6.84-4.585h-.008z"></path></svg></a></div></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/docs-cn/manual/latest/pattern-matching-destructuring","query":{},"buildId":"ZqBEHk78FzscKmyUl7mUU","runtimeConfig":{},"nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/chunks/polyfills-9def993fe817cc057038.js"></script><script src="/_next/static/chunks/webpack-bc7bf8d379ed505529ff.js" async=""></script><script src="/_next/static/chunks/framework-23118dcc1b886e5b49be.js" async=""></script><script src="/_next/static/chunks/main-82e7c4d3c08582bd58e0.js" async=""></script><script src="/_next/static/chunks/pages/_app-b7cd15702edb650b47c8.js" async=""></script><script src="/_next/static/chunks/pages/docs-cn/manual/latest/pattern-matching-destructuring-70800ebfb8ccfef43df6.js" async=""></script><script src="/_next/static/ZqBEHk78FzscKmyUl7mUU/_buildManifest.js" async=""></script><script src="/_next/static/ZqBEHk78FzscKmyUl7mUU/_ssgManifest.js" async=""></script><script async="" defer="" src="https://scripts.simpleanalyticscdn.com/latest.js"></script><noscript><img src="https://queue.simpleanalyticscdn.com/noscript.gif" alt=""/></noscript></body></html>